(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){var graphics=require("graphics");var util=require("./util/util");var css=require("./util/css");var positioning=require("./positioning");function setupImageFaceInsideContainer(width,height,offsetX,offsetY,imageWidth,imageHeight,containerWidth,containerHeight){"use strict";var rectangleFace=new graphics.FaceContainer(width,height,offsetX,offsetY,imageWidth,imageHeight,containerWidth,containerHeight);rectangleFace.recalculateVerticesWithOffset();return rectangleFace}function calculateBigBoxEncompassingFaces(faces){"use strict";var minX=faces[0].vertices.A.x||0,maxX=faces[0].vertices.B.x||0,minY=faces[0].vertices.A.y||0,maxY=faces[0].vertices.D.y||0;if(faces.length>1){faces.sort(function(a,b){return a.vertices.A.x-b.vertices.A.x});minX=faces[0].vertices.A.x||0;maxX=faces[faces.length-1].vertices.B.x||0;faces.sort(function(a,b){return a.vertices.A.y-b.vertices.A.y});minY=faces[0].vertices.A.y||0;maxY=faces[faces.length-1].vertices.D.y||0}return new graphics.FaceContainer(maxX-minX,maxY-minY,minX,minY,faces[0].sourceWidth,faces[0].sourceHeight,faces[0].targetWidth,faces[0].targetHeight)}function retrieveFacesInImage(faceRecognizedEvent,imagePack){"use strict";var faces=[];for(var i=0;i!==faceRecognizedEvent.data.length;++i){var data=faceRecognizedEvent.data[i];var containerProperties=util.getProperties(imagePack.elementContainingImage[0]);faces.push(setupImageFaceInsideContainer(data.width,data.height,data.x,data.y,imagePack.width,imagePack.height,containerProperties.width,containerProperties.height))}return faces}function faceCentering(faceRecognizedEvent,imagePack,cssStyleSheet){"use strict";var faces=retrieveFacesInImage(faceRecognizedEvent,imagePack);var faceBox=calculateBigBoxEncompassingFaces(faces);var faceBoxAnalysis=graphics.GetFaceBoxPercentagePerQuadrant(faceBox);var style=positioning.selectAnchorPoint(faceBox,faceBoxAnalysis);if(style!==undefined){cssStyleSheet.selector(imagePack.imageClassName,style)}}module.exports={faceCentering:faceCentering}},{"./positioning":3,"./util/css":4,"./util/util":5,graphics:16}],2:[function(require,module,exports){var calculateAndAddPadding={PADDING_TOP_BOTTOM_PERCENT:.3,PADDING_LEFT_RIGHT_PERCENT:.15,applyPaddingCorner:function(anchorVertex,faceBox,boundaryX,boundaryY,operationX,operationY){"use strict";var faceBoxTopOrBottomPadding=faceBox.height*this.PADDING_TOP_BOTTOM_PERCENT,faceBoxLeftOrRightPadding=faceBox.width*this.PADDING_LEFT_RIGHT_PERCENT;faceBoxLeftOrRightPadding=boundaryX(faceBoxLeftOrRightPadding,anchorVertex.x,faceBox.sourceWidth)?anchorVertex.x:faceBoxLeftOrRightPadding;faceBoxTopOrBottomPadding=boundaryY(faceBoxTopOrBottomPadding,anchorVertex.y,faceBox.sourceHeight)?anchorVertex.y:faceBoxTopOrBottomPadding;return{x:operationX(anchorVertex.x,faceBoxLeftOrRightPadding),y:operationY(anchorVertex.y,faceBoxTopOrBottomPadding),xPadding:faceBoxLeftOrRightPadding,yPadding:faceBoxTopOrBottomPadding}},applyPaddingCenterOfEdge:{TopBottom:function(anchorVertex,faceBox,boundaryY,operationY){"use strict";var faceBoxTopOrBottomPadding=faceBox.height*this.PADDING_TOP_BOTTOM_PERCENT;faceBoxTopOrBottomPadding=boundaryY(faceBoxTopOrBottomPadding,anchorVertex.y,faceBox.sourceHeight)?anchorVertex.y:faceBoxTopOrBottomPadding;return{x:anchorVertex.x,y:operationY(anchorVertex.y,faceBoxTopOrBottomPadding),xPadding:0,yPadding:faceBoxTopOrBottomPadding}},LeftRight:function(anchorVertex,faceBox,boundaryX,operationX){"use strict";var faceBoxLeftOrRightPadding=faceBox.width*this.PADDING_LEFT_RIGHT_PERCENT;faceBoxLeftOrRightPadding=boundaryX(faceBoxLeftOrRightPadding,anchorVertex.x,faceBox.sourceWidth)?anchorVertex.x:faceBoxLeftOrRightPadding;return{x:operationX(anchorVertex.x,faceBoxLeftOrRightPadding),y:anchorVertex.y,xPadding:faceBoxLeftOrRightPadding,yPadding:0}}},CenterTop:function(anchorVertex,faceBox){"use strict";return this.applyPaddingCenterOfEdge.TopBottom(anchorVertex,faceBox,this.boundaryYTop,this.minus)},CenterLeft:function(anchorVertex,faceBox){"use strict";return this.applyPaddingCenterOfEdge.LeftRight(anchorVertex,faceBox,this.boundaryXLeft,this.minus)},CenterBottom:function(anchorVertex,faceBox){"use strict";return this.applyPaddingCenterOfEdge.TopBottom(anchorVertex,faceBox,this.boundaryYBottom,this.add)},CenterRight:function(anchorVertex,faceBox){"use strict";return this.applyPaddingCenterOfEdge.LeftRight(anchorVertex,faceBox,this.boundaryXRight,this.add)},TopLeft:function(anchorVertex,faceBox){"use strict";return this.applyPaddingCorner(anchorVertex,faceBox,this.boundaryXLeft,this.boundaryYTop,this.minus,this.minus)},TopRight:function(anchorVertex,faceBox){"use strict";return this.applyPaddingCorner(anchorVertex,faceBox,this.boundaryXRight,this.boundaryYTop,this.add,this.minus)},LowerLeft:function(anchorVertex,faceBox){"use strict";return this.applyPaddingCorner(anchorVertex,faceBox,this.boundaryXLeft,this.boundaryYBottom,this.minus,this.add)},LowerRight:function(anchorVertex,faceBox){"use strict";return this.applyPaddingCorner(anchorVertex,faceBox,this.boundaryXRight,this.boundaryYBottom,this.add,this.add)},minus:function(a,b){"use strict";return a-b},add:function(a,b){"use strict";return a+b},boundaryXLeft:function(a,b){"use strict";return a>b},boundaryXRight:function(a,b,c){"use strict";return a+b>c},boundaryYTop:function(a,b){"use strict";return a>b},boundaryYBottom:function(a,b,c){"use strict";return a+b>c}};module.exports={calculateAndAddPadding:calculateAndAddPadding}},{}],3:[function(require,module,exports){var padding=require("./padding");var switchQuadrantNameToIdentifier={TopLeft:"A",TopRight:"B",LowerRight:"C",LowerLeft:"D"};var propertiesToCss=function(width,height,x,y){"use strict";return{"background-size":Math.round(width,0).toString()+"px "+Math.round(height,0).toString()+"px","background-position":Math.round(x,0).toString()+"px "+Math.round(y,0).toString()+"px"}};var getWidthHeightFromAnchor={landscape:function(anchorPointAndPadding,faceBox){},portrait:{TopLeft:function(anchorPointAndPadding,faceBox){"use strict";var aspectRatio,newWidth,newHeight,positionXOffset,positionYOffset;if(faceBox.targetWidth<faceBox.sourceWidth-anchorPointAndPadding.x){aspectRatio=(faceBox.sourceWidth-anchorPointAndPadding.x)/faceBox.targetWidth;positionYOffset=-(anchorPointAndPadding.y/aspectRatio)}else{aspectRatio=faceBox.sourceWidth/faceBox.targetWidth;positionYOffset=anchorPointAndPadding.y===0?0:-(anchorPointAndPadding.y/aspectRatio)}positionXOffset=0;newWidth=faceBox.sourceWidth/aspectRatio;newHeight=faceBox.sourceHeight/aspectRatio;return propertiesToCss(newWidth,newHeight,positionXOffset,positionYOffset)}},square:function(anchorPointAndPadding,faceBox){}};var switchCaseSelection={A:function(faceBox){"use strict";var newAnchor=padding.calculateAndAddPadding.TopLeft(faceBox.vertices.A,faceBox);newAnchor=getWidthHeightFromAnchor[faceBox.getOrientation()].TopLeft(newAnchor,faceBox);console.log(newAnchor);return newAnchor},B:function(faceBox,faceBoxAnalysis){"use strict";var newAnchor=padding.calculateAndAddPadding.TopRight(faceBox.vertices.B,faceBox);newAnchor=getWidthHeightFromAnchor[faceBox.getOrientation()].TopRight(newAnchor,faceBox);return newAnchor},C:function(faceBox,faceBoxAnalysis){"use strict"},D:function(faceBox,faceBoxAnalysis){"use strict"},AB:function(faceBox,faceBoxAnalysis){"use strict"},DC:function(faceBox,faceBoxAnalysis){"use strict"},BA:function(faceBox,faceBoxAnalysis){"use strict"},CD:function(faceBox,faceBoxAnalysis){"use strict"},AD:function(faceBox,faceBoxAnalysis){"use strict"},BC:function(faceBox,faceBoxAnalysis){"use strict"},DA:function(faceBox,faceBoxAnalysis){"use strict"},CB:function(faceBox,faceBoxAnalysis){"use strict"},ALL:function(faceBox,faceBoxAnalysis,priorities){"use strict"}};function selectAnchorPoint(faceBox,faceBoxAnalysis){"use strict";var priorities=Object.keys(faceBoxAnalysis).map(function(key){return[key,faceBoxAnalysis[key].percent]});priorities.sort(function(first,second){return second[1]-first[1]});var Quadrants="";priorities.map(function(key){Quadrants+=switchQuadrantNameToIdentifier[key[0]]});console.log(priorities);var style;if(priorities.length===4){style=switchCaseSelection.ALL(faceBox,faceBoxAnalysis,priorities)}else{style=switchCaseSelection[Quadrants](faceBox,faceBoxAnalysis,priorities)}return style}module.exports={selectAnchorPoint:selectAnchorPoint}},{"./padding":2}],4:[function(require,module,exports){function getCSSRule(ruleName,deleteFlag){"use strict";ruleName=ruleName.toLowerCase();if(document.styleSheets){for(var i=0;i<document.styleSheets.length;i++){var styleSheet=document.styleSheets[i];var ii=0;var cssRule=false;do{if(styleSheet.cssRules){cssRule=styleSheet.cssRules[ii]}else{cssRule=styleSheet.rules[ii]}if(cssRule){if(cssRule.selectorText.toLowerCase()==ruleName){if(deleteFlag=="delete"){if(styleSheet.cssRules){styleSheet.deleteRule(ii)}else{styleSheet.removeRule(ii)}return true}else{return cssRule}}}ii++}while(cssRule)}}return false}function killCSSRule(ruleName){"use strict";return getCSSRule(ruleName,"delete")}function addCSSRule(ruleName){"use strict";if(document.styleSheets){if(!getCSSRule(ruleName)){if(document.styleSheets[0].addRule){document.styleSheets[0].addRule(ruleName,null,0)}else{document.styleSheets[0].insertRule(ruleName+" { }",0)}}}return getCSSRule(ruleName)}module.exports={getCSSRule:getCSSRule,killCSSRule:killCSSRule,addCSSRule:addCSSRule}},{}],5:[function(require,module,exports){function createClass(name,rules){"use strict";var style=document.createElement("style");style.type="text/css";document.getElementsByTagName("head")[0].appendChild(style);if(!(style.sheet||{}).insertRule){(style.styleSheet||style.sheet).addRule(name,rules)}else{style.sheet.insertRule(name+"{"+rules+"}",0)}}var format=function(format){"use strict";var args=Array.prototype.slice.call(arguments,1);return format.replace(/{(\d+)}/g,function(match,number){return typeof args[number]!=="undefined"?args[number]:match})};function getWidth(element){"use strict";return Math.max(element.clientWidth,element.offsetWidth,element.scrollWidth)}function getHeight(element){"use strict";return Math.max(element.clientHeight,element.offsetHeight,element.scrollHeight)}var getProperty={width:getWidth,height:getHeight};function getProperties(element){"use strict";return{width:getProperty.width(element),height:getProperty.height(element)}}module.exports={createClass:createClass,format:format,getProperties:getProperties}},{}],6:[function(require,module,exports){var util=require("faceCentering/util/util");var graphics=require("graphics");var faces=require("faceCentering");function trackingJsFromLocalImage(imageElement,imageContainer,imgUrl,width,height,imgClass,cssStyleSheet){"use strict";var tracker=new tracking.ObjectTracker(["face"]);tracker.sourceElement=new graphics.ImagePack(width,height,"."+imgClass,imageContainer,imgUrl);tracker.cssStyleSheet=cssStyleSheet;tracker.setStepSize(1.7);tracking.track(imageElement,tracker);tracker.on("track",function(event){if(event.data.length===0){console.log("No elements found")}else{faces.faceCentering(event,this.sourceElement,this.cssStyleSheet)}});return{"background-image":util.format("url('{0}'); no-repeat center center fixed",imgUrl),"-webkit-background-size":"cover","-moz-background-size":"cover","-o-background-size":"cover","background-size":"cover"}}module.exports={policy:trackingJsFromLocalImage}},{faceCentering:1,"faceCentering/util/util":5,graphics:16}],7:[function(require,module,exports){var util=require("faceCentering/util/util");var policies=require("faces/strategy/policies");function defaultPolicy(index,element,imgUrl,cssSheet,policy){"use strict";var ovalBackgroundClassName=util.format("cm_mobHeader_artist-image--style-{0}",index);var overlayClassName=util.format("cm_mobHeader_artist-overlay--style-{0}",index);var overlayBackground={"background-image":util.format("url('{0}')",imgUrl),"background-color":"transparent"};cssSheet.selector("."+overlayClassName,overlayBackground);var overlayImg=new Image;overlayImg.element=element;overlayImg.overlayClassName=overlayClassName;overlayImg.onload=function(){this.element.find(".cm_mobHeader_artist_overlay").addClass(this.overlayClassName)};overlayImg.src=imgUrl;var ovalImg=new Image;ovalImg.element=element;ovalImg.className=ovalBackgroundClassName;ovalImg.css=cssSheet;ovalImg.imageSrc=imgUrl;ovalImg.policy=policy;ovalImg.self=ovalImg;ovalImg.onload=function(){if(this.policy){var imageContainerClassName=".cm_mobHeader_artist_image";var container=this.element.find(imageContainerClassName);container.containerProperties=util.getProperties(container[0]);var style=this.policy(this.self,container,this.imageSrc,this.width,this.height,this.className,this.css);if(style!==undefined){this.css.selector("."+this.className,style)}container.addClass(this.className)}};ovalImg.src=imgUrl}function appendElement(index,imageUrl,row,element,cssSheet,policy,subPolicy){"use strict";var card=element({songName:"Song Name",artistName:"Artist Name"});policy(index,card,imageUrl,cssSheet,subPolicy);$(row).append(card)}function processImages(images,cssSheet,beginIndex){"use strict";var alterIndex=beginIndex;for(var i=0;i!==images.length;++i){var row=ich.elRow();var indexString=alterIndex.toString();appendElement(indexString+"-a",images[i],row,ich.element,cssSheet,defaultPolicy,policies.trackingJs);appendElement(indexString+"-b",images[i],row,ich.element,cssSheet,defaultPolicy,policies.widthHeightPositioning);appendElement(indexString+"-c",images[i],row,ich.element,cssSheet,defaultPolicy,policies.widthHeightPositioning);$(".mass").append(row);alterIndex++}}module.exports={processImages:processImages}},{"faceCentering/util/util":5,"faces/strategy/policies":8}],8:[function(require,module,exports){var imageRecognition=require("faces/strategy/imageRecognition/main");var widthHeightPositioning=require("faces/strategy/widthHeightPositioning/main");module.exports={trackingJs:imageRecognition.policy,widthHeightPositioning:widthHeightPositioning.policy}},{"faces/strategy/imageRecognition/main":6,"faces/strategy/widthHeightPositioning/main":9}],9:[function(require,module,exports){var util=require("faceCentering/util/util");function currentPolicy(imageElement,imageContainer,imgUrl,width,height,imgClass,cssStyleSheet){"use strict";var extraProperty={};if(width>height){extraProperty["background-size"]="auto 100%"}else if(width<height){extraProperty["background-size"]="100% auto"}else{extraProperty["background-size"]="100% auto"}extraProperty["background-image"]=util.format("url('{0}')",imgUrl);return extraProperty}module.exports={policy:currentPolicy}},{"faceCentering/util/util":5}],10:[function(require,module,exports){var fromVariable=require("faces/testbed/testbed_variable");var fromFiles=require("faces/testbed/testbed_loading");module.exports={fromDirectorySmallSubset:fromFiles.fromDirectorySmallSubset,fromDirectory:fromFiles.fromDirectory,imageList:fromVariable.imageList}},{"faces/testbed/testbed_loading":11,"faces/testbed/testbed_variable":12}],11:[function(require,module,exports){var util=require("faceCentering/util/util");function fromFile(){"use strict";var items=null;$.ajaxSetup({async:false});$.get("js/assets/images.txt",function(data){items=data.split("\n")});return items}function retrieveFromFile(fileName){"use strict";var items=null;$.ajaxSetup({async:false});var pathAndFileName=util.format("js/assets/{0}",fileName);$.get(pathAndFileName,function(data){items=data.split("\n")});return items}function completeAssetWithPath(images){"use strict";for(var i=0;i!==images.length;++i){images[i]="../faces/js/assets/img/"+images[i]}}function fromDirectorySmallSubset(){"use strict";var items=retrieveFromFile("small_image_testbed.txt");completeAssetWithPath(items);return items}function fromDirectory(){"use strict";var items=retrieveFromFile("list.txt");completeAssetWithPath(items);return items}module.exports={fromDirectorySmallSubset:fromDirectorySmallSubset,fromDirectory:fromDirectory}},{"faceCentering/util/util":5}],12:[function(require,module,exports){var imageList=["https://cps-static.rovicorp.com/3/JPG_400/MI0003/848/MI0003848198.jpg?partner=allrovi.com","https://a248.e.akamai.net/f/1726/3609/1m/media.cmgdigital.com/shared/img/photos/2014/06/20/ad/bb/Jeanne_Headshot_2.jpg","https://a248.e.akamai.net/f/1726/3609/1m/media.cmgdigital.com/shared/lt/lt_cache/thumbnail/292/img/staff/2014/386998_512092287718_750833973_n.jpg","https://a248.e.akamai.net/f/1726/3609/1m/media.cmgdigital.com/shared/lt/lt_cache/thumbnail/908/img/photos/2011/08/01/mookie.jpg","https://s-media-cache-ak0.pinimg.com/236x/88/e3/4c/88e34c17bf76c1d5178b0ce08d9934e6.jpg","https://cps-static.rovicorp.com/3/JPG_400/MI0003/361/MI0003361490.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_250/MI0003/497/MI0003497930.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/627/MI0003627097.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_250/MI0001/418/MI0001418164.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_250/MI0003/495/MI0003495398.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/277/MI0003277352.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0001/405/MI0001405664.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/590/MI0003590626.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/877/MI0003877513.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/388/MI0003388458.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/348/MI0003348271.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/358/MI0003358377.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_250/MI0003/594/MI0003594278.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_250/MI0003/090/MI0003090459.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_250/MI0003/484/MI0003484215.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/877/MI0003877705.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/798/MI0003798761.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0001/397/MI0001397350.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_250/MI0003/627/MI0003627193.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0001/404/MI0001404843.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/436/MI0003436833.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/347/MI0003347847.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_250/MI0003/360/MI0003360551.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_250/MI0001/413/MI0001413988.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/842/MI0003842964.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0001/327/MI0001327893.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/770/MI0003770022.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/840/MI0003840529.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/584/MI0003584762.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/795/MI0003795325.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_250/MI0003/803/MI0003803855.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/840/MI0003840374.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/832/MI0003832775.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/802/MI0003802021.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/795/MI0003795324.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_250/MI0003/535/MI0003535164.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/854/MI0003854385.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/795/MI0003795321.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/840/MI0003840183.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/867/MI0003867863.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/903/MI0003903748.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/869/MI0003869675.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/814/MI0003814405.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_250/MI0003/273/MI0003273649.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/837/MI0003837167.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/045/MI0003045399.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_250/MI0003/433/MI0003433721.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/709/MI0003709783.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_250/MI0003/592/MI0003592855.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/859/MI0003859455.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/182/MI0003182022.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/832/MI0003832974.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/779/MI0003779361.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/848/MI0003848198.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_250/MI0001/328/MI0001328037.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/888/MI0003888856.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_250/MI0001/399/MI0001399175.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0001/327/MI0001327874.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0001/345/MI0001345160.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/481/MI0003481272.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/874/MI0003874107.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/752/MI0003752413.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_250/MI0003/436/MI0003436909.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_250/MI0001/395/MI0001395010.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/849/MI0003849319.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/421/MI0003421888.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/874/MI0003874501.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_250/MI0001/364/MI0001364912.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/709/MI0003709999.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_250/MI0001/465/MI0001465413.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0001/406/MI0001406460.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/720/MI0003720987.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_250/MI0001/326/MI0001326338.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/888/MI0003888881.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/879/MI0003879160.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/879/MI0003879885.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0001/325/MI0001325433.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_250/MI0003/364/MI0003364458.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/879/MI0003879671.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_250/MI0003/571/MI0003571143.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/828/MI0003828479.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_250/MI0003/891/MI0003891169.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0001/402/MI0001402140.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_250/MI0003/641/MI0003641474.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/351/MI0003351373.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/276/MI0003276341.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/689/MI0003689189.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/835/MI0003835479.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0001/401/MI0001401684.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0002/749/MI0002749679.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_250/MI0003/590/MI0003590035.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/892/MI0003892823.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/594/MI0003594464.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/732/MI0003732467.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0001/329/MI0001329620.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0001/405/MI0001405078.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0001/366/MI0001366608.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0001/329/MI0001329528.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/712/MI0003712617.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_250/MI0001/336/MI0001336784.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0003/148/MI0003148875.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_250/MI0003/445/MI0003445129.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_250/MI0003/378/MI0003378772.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0001/399/MI0001399345.jpg?partner=allrovi.com","https://cps-static.rovicorp.com/3/JPG_400/MI0001/401/MI0001401588.jpg?partner=allrovi.com"];module.exports={imageList:imageList}},{}],13:[function(require,module,exports){var slicing=require("./sliceDetection");function applyCalculation(areaSwitch,faceBox,squareName,faceBoxCollisionSquare){"use strict";var probabilities={};for(var i=0;i!==faceBoxCollisionSquare.collisions.length;++i){var currentCollision=faceBoxCollisionSquare.collisions[i];areaSwitch[currentCollision.identifier](probabilities,faceBox,squareName,currentCollision,faceBoxCollisionSquare.properties)}return probabilities[squareName]}function calculateAreasAllQuadrants(faceBox,squareName,faceBoxCollisionSquare){"use strict";var areaSwitch={initSquare:function(probabilities){probabilities[squareName]=probabilities[squareName]||{}},A:function(probabilities,faceBox,squareName,squareCollision,containerSquare){this.initSquare(probabilities);var width=containerSquare.width-squareCollision.x;var height=containerSquare.height-squareCollision.y;var area=width*height;probabilities[squareName].percent=area/faceBox.area()},B:function(probabilities,faceBox,squareName,squareCollision,containerSquare){this.initSquare(probabilities);var width=squareCollision.x-containerSquare.vertices.A.x;var height=containerSquare.height-squareCollision.y;var area=width*height;probabilities[squareName].percent=area/faceBox.area()},C:function(probabilities,faceBox,squareName,squareCollision,containerSquare){this.initSquare(probabilities);var width=squareCollision.x-containerSquare.vertices.A.x;var height=squareCollision.y-containerSquare.vertices.A.y;var area=width*height;probabilities[squareName].percent=area/faceBox.area()},D:function(probabilities,faceBox,squareName,squareCollision,containerSquare){this.initSquare(probabilities);var width=containerSquare.width-squareCollision.x;var height=squareCollision.y-containerSquare.vertices.A.y;var area=width*height;probabilities[squareName].percent=area/faceBox.area()}};return applyCalculation(areaSwitch,faceBox,squareName,faceBoxCollisionSquare)}function calculateAreasXAxisSlicedQuadrants(faceBox,squareName,faceBoxCollisionSquare){"use strict";var areaSwitch={Top:function(probabilities,faceBox,squareName,squareCollision,containerSquare){probabilities[squareName]=probabilities[squareName]||{};var width=faceBox.width;var height=containerSquare.height-squareCollision.y;var area=width*height;probabilities[squareName].percent=area/faceBox.area()},Bottom:function(probabilities,faceBox,squareName,squareCollision,containerSquare){probabilities[squareName]=probabilities[squareName]||{};var width=faceBox.width;var height=squareCollision.y-containerSquare.vertices.A.y;var area=width*height;probabilities[squareName].percent=area/faceBox.area()},A:function(probabilities,faceBox,squareName,squareCollision,containerSquare){this.Top(probabilities,faceBox,squareName,squareCollision,containerSquare)},B:function(probabilities,faceBox,squareName,squareCollision,containerSquare){if(probabilities[squareName]===undefined){this.Top(probabilities,faceBox,squareName,squareCollision,containerSquare)}},C:function(probabilities,faceBox,squareName,squareCollision,containerSquare){this.Bottom(probabilities,faceBox,squareName,squareCollision,containerSquare)},D:function(probabilities,faceBox,squareName,squareCollision,containerSquare){if(probabilities[squareName]===undefined){this.Bottom(probabilities,faceBox,squareName,squareCollision,containerSquare)}}};return applyCalculation(areaSwitch,faceBox,squareName,faceBoxCollisionSquare)}function calculateAreasYAxisSlicedQuadrants(faceBox,squareName,faceBoxCollisionSquare){"use strict";var areaSwitch={Left:function(probabilities,faceBox,squareName,squareCollision,containerSquare){probabilities[squareName]=probabilities[squareName]||{};var width=containerSquare.width-squareCollision.x;var height=faceBox.height;var area=width*height;probabilities[squareName].percent=area/faceBox.area()},Right:function(probabilities,faceBox,squareName,squareCollision,containerSquare){probabilities[squareName]=probabilities[squareName]||{};var width=squareCollision.x-containerSquare.vertices.A.x;var height=faceBox.height;var area=width*height;probabilities[squareName].percent=area/faceBox.area()},A:function(probabilities,faceBox,squareName,squareCollision,containerSquare){this.Left(probabilities,faceBox,squareName,squareCollision,containerSquare)},B:function(probabilities,faceBox,squareName,squareCollision,containerSquare){this.Right(probabilities,faceBox,squareName,squareCollision,containerSquare)},C:function(probabilities,faceBox,squareName,squareCollision,containerSquare){if(probabilities[squareName]===undefined){this.Right(probabilities,faceBox,squareName,squareCollision,containerSquare)}},D:function(probabilities,faceBox,squareName,squareCollision,containerSquare){if(probabilities[squareName]===undefined){this.Left(probabilities,faceBox,squareName,squareCollision,containerSquare)}}};return applyCalculation(areaSwitch,faceBox,squareName,faceBoxCollisionSquare)}function calculateAreasForPoints(faceBox,faceBoxCollisionMap){"use strict";var slices=slicing.getSlices(faceBoxCollisionMap);var probabilities={};if(slices.noSlice!==false){for(var name in faceBoxCollisionMap){probabilities[name]=probabilities[name]||{};probabilities[name].percent=1}}else{for(var key in faceBoxCollisionMap){if(faceBoxCollisionMap[key]!==undefined){
if(slices.xSlice&&slices.ySlice){probabilities[key]=calculateAreasAllQuadrants(faceBox,key,faceBoxCollisionMap[key])}else if(slices.xSlice){probabilities[key]=calculateAreasXAxisSlicedQuadrants(faceBox,key,faceBoxCollisionMap[key])}else if(slices.ySlice){probabilities[key]=calculateAreasYAxisSlicedQuadrants(faceBox,key,faceBoxCollisionMap[key])}}}}return probabilities}module.exports={calculateAreasForPoints:calculateAreasForPoints}},{"./sliceDetection":23}],14:[function(require,module,exports){var partitioning=require("./partitioning");function squareOverlap(faceBox){"use strict";var subSquares=partitioning.partitionSquareIntoFour({width:faceBox.sourceWidth,height:faceBox.sourceHeight});var faceBoxCollisionMap=concentricParallelogramCollision(subSquares,faceBox);for(var key in subSquares){if(faceBoxCollisionMap[key]!==undefined&&subSquares[key]!==undefined){faceBoxCollisionMap[key].properties=subSquares[key]}}return faceBoxCollisionMap}function range(start,count){"use strict";return Array.apply(0,new Array(count)).map(function(element,index){return index+start})}function concentricParallelogramCollision(subSquares,faceBox){"use strict";faceBox.recalculateVerticesWithOffset();var quadrantsPack={};var vertices=range(0,faceBox.vertices.pMembers.length);for(var key in subSquares){if(subSquares[key]!==undefined){var max=vertices.length;var i=0;while(i!==max){if(faceBox.vertices[faceBox.vertices.pMembers[i]]!==undefined){var vertex=faceBox.vertices[faceBox.vertices.pMembers[vertices[i]]];var isInside=subSquares[key].isPointInside(vertex);if(isInside){vertex.identifier=vertex.identifier||"";vertex.identifier=faceBox.vertices.pMembers[vertices[i]].toString();vertices.splice(i,1);max=vertices.length;quadrantsPack[key]=quadrantsPack[key]||{};quadrantsPack[key].collisions=quadrantsPack[key].collisions||[];quadrantsPack[key].collisions.push(vertex)}else{i++}}}if(!vertices.length){break}}}return quadrantsPack}module.exports={squareOverlap:squareOverlap,concentricParallelogramCollision:concentricParallelogramCollision}},{"./partitioning":22}],15:[function(require,module,exports){var faceContainer=require("./objects/faceContainer");var parallelogram=require("./objects/parallelogram");var vertices=require("./objects/parallelogramVertexSet");var vertex=require("./objects/vertex");var imagePack=require("./objects/imagePack");module.exports={FaceContainer:faceContainer.FaceContainer,Parallelogram:parallelogram.Parallelogram,Vertex2D:vertex.Vertex2D,ImagePack:imagePack.ImagePack,ParallelogramVertexSet:vertices.ParallelogramVertexSet}},{"./objects/faceContainer":17,"./objects/imagePack":18,"./objects/parallelogram":19,"./objects/parallelogramVertexSet":20,"./objects/vertex":21}],16:[function(require,module,exports){var collision=require("./collision");var areas=require("./areaPercentages");var graphics=require("./graphics");function getFaceBoxPercentagePerQuadrant(faceBox){"use strict";var faceBoxCollisionMap=collision.squareOverlap(faceBox);var percentagesPerQuadrant=areas.calculateAreasForPoints(faceBox,faceBoxCollisionMap);for(var key in percentagesPerQuadrant){if(faceBoxCollisionMap[key]!==undefined){faceBoxCollisionMap[key].percent=percentagesPerQuadrant[key].percent}}return faceBoxCollisionMap}module.exports={GetFaceBoxPercentagePerQuadrant:getFaceBoxPercentagePerQuadrant,FaceContainer:graphics.FaceContainer,Parallelogram:graphics.Parallelogram,Vertex2D:graphics.Vertex2D,ImagePack:graphics.ImagePack,ParallelogramVertexSet:graphics.ParallelogramVertexSet}},{"./areaPercentages":13,"./collision":14,"./graphics":15}],17:[function(require,module,exports){var parallelogram=require("./parallelogram");FaceContainer.prototype=Object.create(parallelogram.Parallelogram.prototype);FaceContainer.prototype.constructor=FaceContainer;function FaceContainer(width,height,offsetX,offsetY,imageWidth,imageHeight,containerWidth,containerHeight){"use strict";parallelogram.Parallelogram.call(this);this.fromWidthAndHeight(width,height);this.offsetX=offsetX;this.offsetY=offsetY;this.sourceWidth=imageWidth;this.sourceHeight=imageHeight;this.targetWidth=containerWidth;this.targetHeight=containerHeight}function recalculateVertices(parallelogramVertexSet,offsetX,offsetY){"use strict";for(var i=0;i!==parallelogramVertexSet.pMembers.length;++i){var key=parallelogramVertexSet.pMembers[i];if(parallelogramVertexSet[key]!==undefined){parallelogramVertexSet[key].x+=offsetX;parallelogramVertexSet[key].y+=offsetY}}}FaceContainer.prototype.recalculateVerticesWithOffset=function(){"use strict";this.backupVertices(this.vertices);recalculateVertices(this.vertices,this.offsetX,this.offsetY)};FaceContainer.prototype.copy=function(){"use strict";return new FaceContainer(this.width,this.height,this.offsetX,this.offsetY,this.sourceWidth,this.sourceHeight,this.targetWidth,this.targetHeight)};FaceContainer.prototype.getOrientation=function(){"use strict";var orientation="square";if(this.sourceWidth>this.sourceHeight){orientation="landscape"}else if(this.sourceWidth<this.sourceHeight){orientation="portrait"}return orientation};module.exports={FaceContainer:FaceContainer}},{"./parallelogram":19}],18:[function(require,module,exports){function ImagePack(width,height,imageClassName,elementContainingImage){"use strict";this.width=width;this.height=height;this.imageClassName=imageClassName;this.elementContainingImage=elementContainingImage}module.exports={ImagePack:ImagePack}},{}],19:[function(require,module,exports){var vertices=require("./parallelogramVertexSet");var vectorOps=require("../utilities/vectorOperations");function Parallelogram(){"use strict";this.width=0;this.height=0;this.vertices=new vertices.ParallelogramVertexSet;this.__previousStateVertices=new vertices.ParallelogramVertexSet;this.__isReady=false}Parallelogram.prototype.innerVectors=function(){"use strict";this.AB=vectorOps.getVector(this.vertices.A,this.vertices.B);this.AD=vectorOps.getVector(this.vertices.A,this.vertices.D);this.__isReady=true};Parallelogram.prototype.area=function(){"use strict";return this.width*this.height};Parallelogram.prototype.isPointInside=function(point){"use strict";var returnValue=false;if(this.__isReady){var AM=vectorOps.getVector(this.vertices.A,point);var AMAB=AM.dot(this.AB);var ABAB=this.AB.dot(this.AB);var AMAD=AM.dot(this.AD);var ADAD=this.AD.dot(this.AD);if(0<=AMAB&&AMAB<=ABAB&&(0<=AMAD&&AMAD<=ADAD)){returnValue=true}}else{this.innerVectors();returnValue=this.isPointInside(point)}return returnValue};Parallelogram.prototype.fromWidthAndHeight=function(width,height){"use strict";this.width=width;this.height=height;this.vertices.fromWidthAndHeight(width,height);this.__previousStateVertices.fromWidthAndHeight(width,height);return this};Parallelogram.prototype.fromVertices=function(X1,X2,Y1,Y2){"use strict";this.width=Math.abs(X2-X1);this.height=Math.abs(Y2-Y1);this.vertices.fromVertices(X1,X2,Y1,Y2);this.__previousStateVertices.fromVertices(X1,X2,Y1,Y2);return this};Parallelogram.prototype.resetVertices=function(){"use strict";if(!this.vertices.equals(this.__previousStateVertices)){var localCopy=(new vertices.ParallelogramVertexSet).fromWidthAndHeight(this.width,this.height);localCopy.copy(this.vertices);this.vertices.copy(this.__previousStateVertices);this.__previousStateVertices.copy(localCopy)}};Parallelogram.prototype.backupVertices=function(vertices){"use strict";if(!this.__previousStateVertices.equals(vertices)){this.__previousStateVertices.copy(vertices)}};module.exports={Parallelogram:Parallelogram}},{"../utilities/vectorOperations":24,"./parallelogramVertexSet":20}],20:[function(require,module,exports){var vertex=require("./vertex");function ParallelogramVertexSet(){"use strict";this.pMembers=["A","B","C","D"];this.A=new vertex.Vertex2D(0,0);this.B=new vertex.Vertex2D(0,0);this.C=new vertex.Vertex2D(0,0);this.D=new vertex.Vertex2D(0,0)}ParallelogramVertexSet.prototype.fromWidthAndHeight=function(width,height){"use strict";this.A.reset(0,0);this.B.reset(0+width,0);this.C.reset(0+width,0+height);this.D.reset(0,0+height);return this};ParallelogramVertexSet.prototype.fromVertices=function(X1,X2,Y1,Y2){"use strict";this.A.reset(X1,Y1);this.B.reset(X2,Y1);this.C.reset(X2,Y2);this.D.reset(X1,Y2);return this};ParallelogramVertexSet.prototype.equals=function(other){"use strict";return other.A.equals(this.A)&&other.B.equals(this.B)&&other.C.equals(this.C)&&other.D.equals(this.D)};ParallelogramVertexSet.prototype.copy=function(other){"use strict";this.A.copy(other.A);this.B.copy(other.A);this.C.copy(other.C);this.D.copy(other.D)};module.exports={ParallelogramVertexSet:ParallelogramVertexSet}},{"./vertex":21}],21:[function(require,module,exports){function Vertex2D(x,y){"use strict";this.x=x;this.y=y;this.equals=function(other){return other.x===this.x&&other.y===this.y};this.copy=function(other){this.x=other.x;this.y=other.y};this.reset=function(x,y){this.x=x;this.y=y}}module.exports={Vertex2D:Vertex2D}},{}],22:[function(require,module,exports){var parallelograms=require("./graphics");function partitionSquareIntoFour(parallelogram){"use strict";var R1=(new parallelograms.Parallelogram).fromVertices(0,parallelogram.width/2-1,0,parallelogram.height/2-1),R2=(new parallelograms.Parallelogram).fromVertices(parallelogram.width/2,parallelogram.width,0,parallelogram.height/2-1),R3=(new parallelograms.Parallelogram).fromVertices(0,parallelogram.width/2-1,parallelogram.height/2,parallelogram.height),R4=(new parallelograms.Parallelogram).fromVertices(parallelogram.width/2,parallelogram.width,parallelogram.height/2,parallelogram.height);return{TopLeft:R1,TopRight:R2,LowerLeft:R3,LowerRight:R4}}module.exports={partitionSquareIntoFour:partitionSquareIntoFour}},{"./graphics":15}],23:[function(require,module,exports){function getSlices(faceBoxCollisionMap){"use strict";var slices=0;var bitNumber={TopLeft:0,TopRight:1,LowerLeft:2,LowerRight:3};for(var key in faceBoxCollisionMap){if(faceBoxCollisionMap[key]!==undefined){var offset=bitNumber[key];offset=1<<offset;slices=slices|offset}}var slicesMap={noSlice:false,xSlice:false,ySlice:false};if(slices===15){slicesMap.xSlice=true;slicesMap.ySlice=true}else if(slices===12||slices===3){slicesMap.ySlice=true}else if(slices===5||slices===10){slicesMap.xSlice=true}else if(slices===8||slices===4||slices===2||slices===1){slicesMap.noSlice=true}return slicesMap}module.exports={getSlices:getSlices}},{}],24:[function(require,module,exports){var Victor=require("victor");function getVector(coordinatesA,coordinatesB){"use strict";return new Victor(coordinatesB.x-coordinatesA.x,coordinatesB.y-coordinatesA.y)}module.exports={getVector:getVector}},{victor:25}],25:[function(require,module,exports){exports=module.exports=Victor;function Victor(x,y){if(!(this instanceof Victor)){return new Victor(x,y)}this.x=x||0;this.y=y||0}Victor.fromArray=function(arr){return new Victor(arr[0]||0,arr[1]||0)};Victor.fromObject=function(obj){return new Victor(obj.x||0,obj.y||0)};Victor.prototype.addX=function(vec){this.x+=vec.x;return this};Victor.prototype.addY=function(vec){this.y+=vec.y;return this};Victor.prototype.add=function(vec){this.x+=vec.x;this.y+=vec.y;return this};Victor.prototype.addScalar=function(scalar){this.x+=scalar;this.y+=scalar;return this};Victor.prototype.addScalarX=function(scalar){this.x+=scalar;return this};Victor.prototype.addScalarY=function(scalar){this.y+=scalar;return this};Victor.prototype.subtractX=function(vec){this.x-=vec.x;return this};Victor.prototype.subtractY=function(vec){this.y-=vec.y;return this};Victor.prototype.subtract=function(vec){this.x-=vec.x;this.y-=vec.y;return this};Victor.prototype.subtractScalar=function(scalar){this.x-=scalar;this.y-=scalar;return this};Victor.prototype.subtractScalarX=function(scalar){this.x-=scalar;return this};Victor.prototype.subtractScalarY=function(scalar){this.y-=scalar;return this};Victor.prototype.divideX=function(vector){this.x/=vector.x;return this};Victor.prototype.divideY=function(vector){this.y/=vector.y;return this};Victor.prototype.divide=function(vector){this.x/=vector.x;this.y/=vector.y;return this};Victor.prototype.divideScalar=function(scalar){if(scalar!==0){this.x/=scalar;this.y/=scalar}else{this.x=0;this.y=0}return this};Victor.prototype.divideScalarX=function(scalar){if(scalar!==0){this.x/=scalar}else{this.x=0}return this};Victor.prototype.divideScalarY=function(scalar){if(scalar!==0){this.y/=scalar}else{this.y=0}return this};Victor.prototype.invertX=function(){this.x*=-1;return this};Victor.prototype.invertY=function(){this.y*=-1;return this};Victor.prototype.invert=function(){this.invertX();this.invertY();return this};Victor.prototype.multiplyX=function(vector){this.x*=vector.x;return this};Victor.prototype.multiplyY=function(vector){this.y*=vector.y;return this};Victor.prototype.multiply=function(vector){this.x*=vector.x;this.y*=vector.y;return this};Victor.prototype.multiplyScalar=function(scalar){this.x*=scalar;this.y*=scalar;return this};Victor.prototype.multiplyScalarX=function(scalar){this.x*=scalar;return this};Victor.prototype.multiplyScalarY=function(scalar){this.y*=scalar;return this};Victor.prototype.normalize=function(){var length=this.length();if(length===0){this.x=1;this.y=0}else{this.divide(Victor(length,length))}return this};Victor.prototype.norm=Victor.prototype.normalize;Victor.prototype.limit=function(max,factor){if(Math.abs(this.x)>max){this.x*=factor}if(Math.abs(this.y)>max){this.y*=factor}return this};Victor.prototype.randomize=function(topLeft,bottomRight){this.randomizeX(topLeft,bottomRight);this.randomizeY(topLeft,bottomRight);return this};Victor.prototype.randomizeX=function(topLeft,bottomRight){var min=Math.min(topLeft.x,bottomRight.x);var max=Math.max(topLeft.x,bottomRight.x);this.x=random(min,max);return this};Victor.prototype.randomizeY=function(topLeft,bottomRight){var min=Math.min(topLeft.y,bottomRight.y);var max=Math.max(topLeft.y,bottomRight.y);this.y=random(min,max);return this};Victor.prototype.randomizeAny=function(topLeft,bottomRight){if(!!Math.round(Math.random())){this.randomizeX(topLeft,bottomRight)}else{this.randomizeY(topLeft,bottomRight)}return this};Victor.prototype.unfloat=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};Victor.prototype.toFixed=function(precision){if(typeof precision==="undefined"){precision=8}this.x=this.x.toFixed(precision);this.y=this.y.toFixed(precision);return this};Victor.prototype.mixX=function(vec,amount){if(typeof amount==="undefined"){amount=.5}this.x=(1-amount)*this.x+amount*vec.x;return this};Victor.prototype.mixY=function(vec,amount){if(typeof amount==="undefined"){amount=.5}this.y=(1-amount)*this.y+amount*vec.y;return this};Victor.prototype.mix=function(vec,amount){this.mixX(vec,amount);this.mixY(vec,amount);return this};Victor.prototype.clone=function(){return new Victor(this.x,this.y)};Victor.prototype.copyX=function(vec){this.x=vec.x;return this};Victor.prototype.copyY=function(vec){this.y=vec.y;return this};Victor.prototype.copy=function(vec){this.copyX(vec);this.copyY(vec);return this};Victor.prototype.zero=function(){this.x=this.y=0;return this};Victor.prototype.dot=function(vec2){return this.x*vec2.x+this.y*vec2.y};Victor.prototype.cross=function(vec2){return this.x*vec2.y-this.y*vec2.x};Victor.prototype.projectOnto=function(vec2){var coeff=(this.x*vec2.x+this.y*vec2.y)/(vec2.x*vec2.x+vec2.y*vec2.y);this.x=coeff*vec2.x;this.y=coeff*vec2.y;return this};Victor.prototype.horizontalAngle=function(){return Math.atan2(this.y,this.x)};Victor.prototype.horizontalAngleDeg=function(){return radian2degrees(this.horizontalAngle())};Victor.prototype.verticalAngle=function(){return Math.atan2(this.x,this.y)};Victor.prototype.verticalAngleDeg=function(){return radian2degrees(this.verticalAngle())};Victor.prototype.angle=Victor.prototype.horizontalAngle;Victor.prototype.angleDeg=Victor.prototype.horizontalAngleDeg;Victor.prototype.direction=Victor.prototype.horizontalAngle;Victor.prototype.rotate=function(angle){var nx=this.x*Math.cos(angle)-this.y*Math.sin(angle);var ny=this.x*Math.sin(angle)+this.y*Math.cos(angle);this.x=nx;this.y=ny;return this};Victor.prototype.rotateDeg=function(angle){angle=degrees2radian(angle);return this.rotate(angle)};Victor.prototype.rotateTo=function(rotation){return this.rotate(rotation-this.angle())};Victor.prototype.rotateToDeg=function(rotation){rotation=degrees2radian(rotation);return this.rotateTo(rotation)};Victor.prototype.rotateBy=function(rotation){var angle=this.angle()+rotation;return this.rotate(angle)};Victor.prototype.rotateByDeg=function(rotation){rotation=degrees2radian(rotation);return this.rotateBy(rotation)};Victor.prototype.distanceX=function(vec){return this.x-vec.x};Victor.prototype.absDistanceX=function(vec){return Math.abs(this.distanceX(vec))};Victor.prototype.distanceY=function(vec){return this.y-vec.y};Victor.prototype.absDistanceY=function(vec){return Math.abs(this.distanceY(vec))};Victor.prototype.distance=function(vec){return Math.sqrt(this.distanceSq(vec))};Victor.prototype.distanceSq=function(vec){var dx=this.distanceX(vec),dy=this.distanceY(vec);return dx*dx+dy*dy};Victor.prototype.length=function(){return Math.sqrt(this.lengthSq())};Victor.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y};Victor.prototype.magnitude=Victor.prototype.length;Victor.prototype.isZero=function(){return this.x===0&&this.y===0};Victor.prototype.isEqualTo=function(vec2){return this.x===vec2.x&&this.y===vec2.y};Victor.prototype.toString=function(){return"x:"+this.x+", y:"+this.y};Victor.prototype.toArray=function(){return[this.x,this.y]};Victor.prototype.toObject=function(){return{x:this.x,y:this.y}};var degrees=180/Math.PI;function random(min,max){return Math.floor(Math.random()*(max-min+1)+min)}function radian2degrees(rad){return rad*degrees}function degrees2radian(deg){return deg/degrees}},{}],26:[function(require,module,exports){var testbed=require("faces/testbed/main");var imageProcessing=require("faces/strategy/main");window.items=testbed.fromDirectory();window.index=0;window.sheet=cssjs.newSheet();function main(images,sheet,alterIndex){"use strict";if(images.length>0){imageProcessing.processImages(images,sheet,alterIndex)}}$(document).one("ready",function(){"use strict";main(window.items.slice(window.index,2),window.sheet,window.index);$(document).on("click",".nextButton",function(e){$(".mass").html("");if(window.index===window.items.length-1){window.index=0}else{window.index+=2}window.sheet.remove();window.sheet=cssjs.newSheet();main(window.items.slice(window.index,window.index+2),window.sheet,window.index)})})},{"faces/strategy/main":7,"faces/testbed/main":10}]},{},[26]);